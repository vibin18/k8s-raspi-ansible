- name: "Create k8s certficate directory || CA setup. "
  vars:
    sannames: "{{ groups['k8s_nodes'] }}"
  tasks:
    - name: Download file
      template:
        src: /{{ lookup('env', 'PWD') }}/roles/gen-ssl-conf/files/ssl-template.j2
        dest: /{{ lookup('env', 'PWD') }}/roles/setup-ca/files/server-ssl.cnf
        owner: root
        group: root
        mode: '0640'