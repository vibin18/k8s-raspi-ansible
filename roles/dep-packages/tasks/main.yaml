- name: "Add an apt signing key for cloud.google.com"
  apt_key:
    url: https://packages.cloud.google.com/apt/doc/apt-key.gpg
    state: present

- name: "Add kubernetes repository into sources list"
  apt_repository:
    repo: deb https://apt.kubernetes.io/ kubernetes-xenial main
    state: present

- name: "Install package kubectl"
  package:
    name: kubectl
    state: present

- name: "Add an apt signing key for docker"
  apt_key:
    url: https://download.docker.com/linux/ubuntu/gpg
    state: present

- name: "Add kubernetes repository into sources list"
  apt_repository:
    repo: deb [arch=amd64] https://download.docker.com/linux/ubuntu focal stable
    state: present

- name: "Install package {{ item }}"
  package:
    name: {{ item }}
    state: present
  with_items: pkgs"{{ packages['docker'] }}"